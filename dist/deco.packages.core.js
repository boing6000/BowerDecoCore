angular.module("deco.packages.core",["deco.packages.core.template","deco.packages.core.config","deco.packages.core.crypto","deco.packages.core.routes","deco.packages.core.keyactions"]),angular.module("deco.packages.core.config",["restangular"]),angular.module("deco.packages.core.crypto",[]),angular.module("deco.packages.core.keyactions",[]),angular.module("deco.packages.core.routes",[]),angular.module("deco.packages.core.template",[]),angular.module("deco.packages.core.config").service("configRestangular",["Restangular",function(e){var t={},a=!1,o={};return t.decryption=function(){a&&e.addResponseInterceptor(function(e,t){var a;if("getList"===t){var o=[],r={},n=0;angular.isString(e.data)||angular.isObject(e.data)?(e.data=crypto.onDecode(e.data,!0),n=void 0!=e.data.total?e.data.total:0,void 0!==e.data.total&&delete e.data.total,angular.forEach(e.data,function(e,t){o[t]=e,r[t]=e})):(o=e.data,r=e.data),a=o,a.original=r,a.total=n,a.status=e.status}else a=void 0===e.data?e:crypto.onDecode(e.data,!0);return a})},t.headers=function(o){e.addRequestInterceptor(function(r,n){return"post"===n&&(t.addHeader(o.post),a)?crypto.onEncode(r,!0):"put"===n&&(t.addHeader(o.post),a)?crypto.onEncode(r,!0):("delete"===n&&t.addHeader(o.post),"get"===n&&t.addHeader(o.post),e.setDefaultHttpFields({withCredentials:!0}),r)})},t.addHeader=function(t){t&&e.setDefaultHeaders(t)},this.config=function(r){angular.forEach(r,function(t,r){switch(r){case"url":e.setBaseUrl(t);break;case"encryption":a=!0;break;case"headers":o=t;break;case"suffix":e.setRequestSuffix(t)}}),t.decryption(),t.headers(o)},this}]),angular.module("deco.packages.core.config").provider("appConfig",[function(){var e="",t={},a={};this.setConfigJson=function(a){e=a,t.config={}},a.getConfigJson=function(){return e},a._parseConfig=function(e,a,o,r,n){var c=[],i=a.defer();e=angular.isString(e.config)?crypto.onDecode(e.config,!0):e,angular.forEach(e,function(e,a){t.config[a]=e}),Helper.setEnv(t.config.env),Helper.setTemplate(t.config.template),"Restangular"==t.config.api.type&&n.config(t.config.api);var l=t.config.routes.file,s=t.config.menu.file;return l&&s&&(c[0]=o.get(l),c[1]=o.get(s)),a.all(c).then(function(e){r.buildState(e[0].data.config),r.setMenus(e[1].data.config),t.menus=r.getMenus(),i.resolve(t)}),i.promise},this.$get=["$http","Router","$q","$compile","$urlRouter","configRestangular",function(e,t,o,r,n,c){return this.run=function(){return e.get(a.getConfigJson()).then(function(r){return a._parseConfig(r.data,o,e,t,c).then(function(e){return n.sync(),n.listen(),e})})},this}]}]),angular.module("deco.packages.core.crypto").directive("decrypto",[function(){return{restrict:"E",templateUrl:Helper.dotStr2urlStr("templates.decopackages.tpl.diretivas.crypto.decrypto","html"),scope:{show:"="},link:function(e){e.txtDeco="d2G8VlzedUGbUU=t72f0fdb900e4838e35744a5f04609519ed6eea3b545b0553c586259d90b0684c"}}}]).filter("decrypt",function(){return function(e){var t=crypto.onDecode(e);return t}}).filter("encrypt",function(){return function(e){return crypto.onEncode(e)}}),angular.module("deco.packages.core.crypto").directive("crypto",[function(){return{restrict:"E",templateUrl:Helper.dotStr2urlStr("templates.decopackages.tpl.diretivas.crypto.crypto","html"),scope:{show:"="},link:function(e){e.txtToEnc="",e.objToEnc="",e.encode=function(){e.txtToEnc=crypto.onEncode(JSON.parse(json_encode(e.objToEnc)))}}}}]);var core=angular.module("deco.packages.core.keyactions");core.directive("ngEnter",function(){return function(e,t,a){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(a.ngEnter)}),t.preventDefault())})}}),core.directive("ngTab",function(){return function(e,t,a){t.bind("keydown keypress",function(t){9===t.which&&(e.$apply(function(){e.$eval(a.ngTab)}),t.preventDefault())})}}),angular.module("deco.packages.core.routes").service("Router",["$state","$q",function($state,$q){var router={},urlCollection={};return router.buildState=function(data){var defer=$q.defer(),url="";data=angular.isString(data)?crypto.onDecode(data,!0):data,angular.forEach(data.states,function(value,key){if(!$state.get(value.state)){var obj=value;void 0!==obj.views&&void 0!==obj.views.layout&&void 0!==obj.views.layout.templateUrl&&(obj.views.layout.templateUrl=eval(obj.views.layout.templateUrl)),void 0!==obj.views&&void 0!==obj.views.content?void 0!==obj.views.content.templateUrl&&(obj.views.content.templateUrl=eval(obj.views.content.templateUrl)):void 0!==obj.views&&void 0!==obj.views[obj.parent]&&void 0!==obj.views[obj.parent].templateUrl&&(obj.views[obj.parent].templateUrl=eval(obj.views[obj.parent].templateUrl)),$stateProviderRef.state(value.state,obj),Helper.isBoolean(value.default)&&(url=value.url)}}),$urlRouterProviderRef.when("",url),$urlRouterProviderRef.when("/",url),$urlRouterProviderRef.otherwise("/404")},router.getMenus=function(){return urlCollection},router.setMenus=function(e){e=angular.isString(e)?crypto.onDecode(e,!0):e,angular.forEach(e,function(e){urlCollection[e.id]=e.itens})},router}]),angular.module("deco.packages.core.template").directive("template",["$http","TemplatePositionService",function(e,t){var a=null;return{restrict:"A",template:'<div ng-if="tpl != undefined" ng-include="tpl"></div>',link:function(o,r,n){o.tpl=void 0;var c=function(){e.get([a,"theme.json"].join("/")).then(function(e){o.tpl=[a,"tpl","index.html"].join("/"),i(e.data),l(e.data)})},i=function(e){angular.forEach(e.attrs,function(e){var t=Object.keys(e).toString(),a=e[t];r.attr(t,a.join(" "))})},l=function(e){angular.forEach(e.positions,function(e){t.setPosition(e.name,Helper.getLayout(e.tpl))})};n.$observe("template",function(e){void 0!=e&&(a=Helper.getTemplate(),""!==a&&c())})}}}]),function(){angular.module("deco.packages.core.template").service("TemplatePositionService",[function(){var e={},t={};return e.setPosition=function(e,a){t[e]=a},e.getPosition=function(e){return t[e]},e.getAllPositions=function(){return t},e}])}(),angular.module("deco.packages.core").run(["$templateCache",function(e){e.put("templates/decopackages/tpl/diretivas/crypto/crypto.html",'<div class="row" ng-if="show"><div class="col-md-12"><div class="panel panel-default"><div class="panel-body"><form><legend>Encriptografar</legend><div class="form-group"><textarea class="form-control" rows="5" cols="120" ng-model="txtToEnc"></textarea></div><div class="form-group"><pre class="text-muted">{{txtToEnc |encrypt}}</pre></div></form></div></div></div></div>'),e.put("templates/decopackages/tpl/diretivas/crypto/decrypto.html",'<div class="row" ng-if="show"><div class="col-md-12"><div class="panel panel-default"><div class="panel-body"><form action="" method="POST" role="form"><legend>Descriptografar</legend><div class="form-group"><textarea class="form-control" rows="5" cols="120" ng-model="txtDeco"></textarea></div><div class="form-group"><pre class="text-muted">{{txtDeco |decrypt}}</pre></div></form></div></div></div></div>'),e.put("templates/decopackages/tpl/diretivas/gauge/main.html",'<div class="delightmeter"><svg viewbox="-50 25 500 200" class="svg-content" xmlns="http://www.w3.org/2000/svg"><g><path class="arc" id="arc1" d=""></path><path class="arc" id="arc2" d=""></path><path class="arc" id="arc3" d=""></path><path class="arc" id="arc4" d=""></path><path class="arc" id="arc5" d=""></path><g class="needleset"><circle class="needle-center" cx="200" cy="200" r="5"></circle><path class="needle" d="M 200 195 L 60 200 L 200 205"></path><circle class="needle-center" cx="60" cy="200" r="20"></circle><circle id="needlePointer" class="needle-pointer" cx="60" cy="200" r="17" fill=""></circle><g class="scoreInCircle"><text x="55" y="200" fill="black" transform="">{{score | number:0}}</text></g></g><text x="120" y="195" fill="black">0</text><text x="195" y="220" fill="black">{{score}}</text><text x="255" y="195" fill="black">100</text></g></svg></div>')}]);